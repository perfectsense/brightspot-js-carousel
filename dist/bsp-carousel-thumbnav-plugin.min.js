!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery","bsp-utils","bsp-carousel"],b):b(a.jQuery,a.bsp_utils,a.bsp_carousel,a)}(this,function(a,b,c){var d={init:function(a,b){this.$nav=a.find(".bsp-carousel-nav"),this.$stage=a.find(".bsp-carousel-stage"),this.options=b,this.setInstanceId(),this.buildCarousels(),this.addEvents()},setInstanceId:function(){this.instanceId=(new Date).getTime()+"-"+Math.ceil(1e5*Math.random())},buildCarousels:function(){var a,b;"disable"!=this.options.nav&&"disable"!=this.options.stage&&(a="bsp-carousel-nav-"+this.instanceId,b="bsp-carousel-stage-"+this.instanceId,this.$nav.addClass(a),this.$stage.addClass(b),this.options.nav.themeConfig.asNavFor="."+b,this.options.stage.themeConfig.asNavFor="."+a),"disable"!=this.options.stage&&(this.stage=c.init(this.$stage,this.options.stage)),"disable"!=this.options.nav&&(this.nav=c.init(this.$nav,this.options.nav)),"disable"!=this.options.nav&&"disable"!=this.options.stage&&this.setCurrentThumbnail()},addEvents:function(){var a=this;a.stage.bind("carousel:afterChange",function(){a.setCurrentThumbnail()})},setCurrentThumbnail:function(){var b=this.$nav.find(".slick-slide"),c=this.$stage.find(".slick-active").data("slick-index");b.removeClass("current"),b.each(function(b,d){a(d).data("slick-index")==c&&a(d).addClass("current")})}},e={_defaultOptions:{nav:{themeConfig:{centerMode:!0,centerPadding:"0px",focusOnSelect:!0,slidesToShow:3,slidesToScroll:1}},stage:{themeConfig:{arrows:!1}}},_each:function(b){var c=this.option(b),e=Object.create(d);e.init(a(b),c)}};return b.plugin(!1,"bsp","carousel-thumbnav",e)});