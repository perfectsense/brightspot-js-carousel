!function(a,b){"function"==typeof define&&define.amd?define(["jquery","bsp-carousel"],b):a.bsp_carousel_thumbnav=b(a.jQuery,a.bsp_carousel)}(this,function(a,b){return{defaults:{nav:{themeConfig:{centerMode:!0,centerPadding:"0px",focusOnSelect:!0,slidesToShow:3,slidesToScroll:1}},stage:{themeConfig:{arrows:!1}}},init:function(b,c){var d=a.extend(!0,{},this);return d.$nav=b.find(".bsp-carousel-nav"),d.$stage=b.find(".bsp-carousel-stage"),d.options=a.extend({},d.defaults,c),d.setInstanceId(),d.buildCarousels(),d.addEvents(),d},setInstanceId:function(){this.instanceId=(new Date).getTime()+"-"+Math.ceil(1e5*Math.random())},buildCarousels:function(){var a,c;"disable"==this.options.nav||"disable"==this.options.stage||this.options.disableAsNavFor||(a="bsp-carousel-nav-"+this.instanceId,c="bsp-carousel-stage-"+this.instanceId,this.$nav.addClass(a),this.$stage.addClass(c),this.options.nav.themeConfig.asNavFor="."+c,this.options.stage.themeConfig.asNavFor="."+a),"disable"!=this.options.stage&&(this.stage=b.init(this.$stage,this.options.stage)),"disable"!=this.options.nav&&(this.nav=b.init(this.$nav,this.options.nav)),"disable"!=this.options.nav&&"disable"!=this.options.stage&&this.setCurrentThumbnail()},addEvents:function(){var a=this;a.stage.bind("carousel:afterChange",function(){a.setCurrentThumbnail()})},setCurrentThumbnail:function(){var b=this.$nav.find(".slick-slide"),c=this.$stage.find(".slick-active").data("slick-index");b.removeClass("current"),b.each(function(b,d){a(d).data("slick-index")==c&&a(d).addClass("current")})}}});